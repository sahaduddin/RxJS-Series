<div class="promise-container">
  <div class="hero-section">
    <div class="container">
      <h1 class="page-title">
        <i class="fas fa-handshake"></i>
        JavaScript Promises
      </h1>
      <p class="page-subtitle">
        Master asynchronous JavaScript with Promises - your gateway to handling future values and async operations
      </p>
    </div>
  </div>

  <div class="container">
    <!-- Introduction Section -->
    <section class="content-section">
      <h2 class="section-title">
        <i class="fas fa-lightbulb"></i>
        What is a Promise?
      </h2>
      <div class="explanation-card">
        <p class="detailed-explanation">
          A Promise is like ordering food online - you get a tracking number that represents your future meal. 
          The Promise can be <strong>pending</strong> (being prepared), <strong>fulfilled</strong> (delivered successfully), 
          or <strong>rejected</strong> (order cancelled). It's JavaScript's way of handling tasks that take time to complete.
        </p>
      </div>
    </section>

    <!-- Promise States -->
    <section class="content-section">
      <h2 class="section-title">
        <i class="fas fa-traffic-light"></i>
        Promise States
      </h2>
      <div class="states-grid">
        <div class="state-card pending">
          <div class="state-icon">
            <i class="fas fa-clock"></i>
          </div>
          <h3>Pending</h3>
          <p>The operation is still running</p>
          <div class="state-example">
            <code>// Still waiting...</code>
          </div>
        </div>
        <div class="state-card fulfilled">
          <div class="state-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <h3>Fulfilled</h3>
          <p>Operation completed successfully</p>
          <div class="state-example">
            <code>resolve("Success!")</code>
          </div>
        </div>
        <div class="state-card rejected">
          <div class="state-icon">
            <i class="fas fa-times-circle"></i>
          </div>
          <h3>Rejected</h3>
          <p>Operation failed with an error</p>
          <div class="state-example">
            <code>reject("Error!")</code>
          </div>
        </div>
      </div>
    </section>

    <!-- Interactive Examples -->
    <section class="content-section">
      <h2 class="section-title">
        <i class="fas fa-code"></i>
        Interactive Examples
      </h2>
      
      <div class="examples-container">
        <div class="example-card">
          <div class="example-header">
            <h3 class="example-title">Basic Promise Creation</h3>
            <button class="run-button" (click)="runExample('basic')" [disabled]="isRunningExample">
              <i class="fas fa-play" *ngIf="!isRunningExample"></i>
              <i class="fas fa-spinner fa-spin" *ngIf="isRunningExample"></i>
              {{ isRunningExample ? 'Running...' : 'Run Example' }}
            </button>
          </div>
          
          <div class="code-section">
            <pre><code class="javascript">// Creating a simple Promise
const myPromise = new Promise((resolve, reject) => {{ '{' }}
  const success = Math.random() > 0.5;
  
  setTimeout(() => {{ '{' }}
    if (success) {{ '{' }}
      resolve("ðŸŽ‰ Operation successful!");
    {{ '}' }} else {{ '{' }}
      reject("âŒ Something went wrong!");
    {{ '}' }}
  {{ '}' }}, 1000);
{{ '}' }});

// Using the Promise
myPromise
  .then(result => console.log(result))
  .catch(error => console.log(error))
  .finally(() => console.log("Promise completed"));</code></pre>
          </div>
          
          <div class="explanation-section">
            <h4>How it works:</h4>
            <p>This creates a Promise that randomly succeeds or fails after 1 second. The .then() handles success, .catch() handles errors, and .finally() runs regardless of the outcome.</p>
          </div>
          
          <div class="output-section" *ngIf="currentOutput">
            <h4>Output:</h4>
            <div class="output-display">
              <pre>{{ currentOutput }}</pre>
            </div>
          </div>
        </div>

        <div class="example-card">
          <div class="example-header">
            <h3 class="example-title">Async/Await Syntax</h3>
            <button class="run-button" (click)="runExample('async')" [disabled]="isRunningExample">
              <i class="fas fa-play" *ngIf="!isRunningExample"></i>
              <i class="fas fa-spinner fa-spin" *ngIf="isRunningExample"></i>
              {{ isRunningExample ? 'Running...' : 'Run Example' }}
            </button>
          </div>
          
          <div class="code-section">
            <pre><code class="javascript">// Modern async/await syntax
async function fetchUserData(userId) {{ '{' }}
  try {{ '{' }}
    console.log("Fetching user data...");
    
    // Simulate API call
    const response = await new Promise((resolve) => {{ '{' }}
      setTimeout(() => {{ '{' }}
        resolve({{ '{' }}
          id: userId,
          name: "John Doe",
          email: "john&#64;example.com"
        {{ '}' }});
      {{ '}' }}, 1500);
    {{ '}' }});
    
    console.log("User data received:", response);
    return response;
  {{ '}' }} catch (error) {{ '{' }}
    console.error("Failed to fetch user:", error);
    throw error;
  {{ '}' }}
{{ '}' }}

// Using the async function
fetchUserData(123);</code></pre>
          </div>
          
          <div class="explanation-section">
            <h4>How it works:</h4>
            <p>Async/await makes Promise code look like synchronous code. The 'await' keyword pauses execution until the Promise resolves, making it easier to read and understand.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Real-World Use Cases -->
    <section class="content-section">
      <h2 class="section-title">
        <i class="fas fa-rocket"></i>
        Real-World Use Cases
      </h2>
      <div class="use-cases-grid">
        <div class="use-case-item">
          <i class="fas fa-cloud-download-alt"></i>
          <span><strong>API Calls:</strong> Fetching data from servers</span>
        </div>
        <div class="use-case-item">
          <i class="fas fa-upload"></i>
          <span><strong>File Operations:</strong> Uploading and downloading files</span>
        </div>
        <div class="use-case-item">
          <i class="fas fa-database"></i>
          <span><strong>Database Operations:</strong> Saving and retrieving data</span>
        </div>
        <div class="use-case-item">
          <i class="fas fa-user-check"></i>
          <span><strong>Authentication:</strong> User login and verification</span>
        </div>
        <div class="use-case-item">
          <i class="fas fa-image"></i>
          <span><strong>Media Loading:</strong> Loading images and videos</span>
        </div>
        <div class="use-case-item">
          <i class="fas fa-clock"></i>
          <span><strong>Timers:</strong> Delayed execution and timeouts</span>
        </div>
      </div>
    </section>

    <!-- Quick Reference -->
    <section class="content-section">
      <h2 class="section-title">
        <i class="fas fa-book-open"></i>
        Quick Reference
      </h2>
      <div class="reference-grid">
        <div class="reference-card">
          <h4>Creating Promises</h4>
          <div class="reference-code">
            <code>new Promise((resolve, reject) => {{ '{' }} ... {{ '}' }})</code>
          </div>
        </div>
        <div class="reference-card">
          <h4>Handling Success</h4>
          <div class="reference-code">
            <code>promise.then(result => {{ '{' }} ... {{ '}' }})</code>
          </div>
        </div>
        <div class="reference-card">
          <h4>Handling Errors</h4>
          <div class="reference-code">
            <code>promise.catch(error => {{ '{' }} ... {{ '}' }})</code>
          </div>
        </div>
        <div class="reference-card">
          <h4>Always Execute</h4>
          <div class="reference-code">
            <code>promise.finally(() => {{ '{' }} ... {{ '}' }})</code>
          </div>
        </div>
        <div class="reference-card">
          <h4>Async Function</h4>
          <div class="reference-code">
            <code>async function name() {{ '{' }} ... {{ '}' }}</code>
          </div>
        </div>
        <div class="reference-card">
          <h4>Await Promise</h4>
          <div class="reference-code">
            <code>const result = await promise;</code>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
